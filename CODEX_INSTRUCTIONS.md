# CODEX_INSTRUCTIONS.md

## 目的
このリポジトリにおいて、Codex を安全かつ再現性のある形で利用するための運用ルールを定める。

本ファイルは Codex への指示の唯一の正式な参照点とする。

---

## baseline について
- baseline は main ブランチの最新状態を基準とする
- baseline 以前の状態に戻すことは行わない
- すべての変更は baseline からの差分として扱う

---

## 作業ブランチのルール
- main ブランチに直接コミットしてはならない
- 作業は必ず work/ で始まるブランチで行う
  例:
  - work/codex-001
  - work/normalize-project-name
- 1 タスクにつき 1 ブランチ、1 PR を原則とする

---

## 変更してよい範囲
- 明示的に指示されたファイルのみ変更してよい
- 指示に含まれていないファイルは変更してはならない

---

## 変更禁止ルール
以下は明示的な指示がない限り、絶対に変更してはならない。

- src/ 配下の既存コード
- jobkan_scripts/ 配下の既存コード
- input/ 配下のファイル (read-only)
- 既存ファイルの簡略化、リファクタリング、リネーム、移動
- .gitignore の内容

---

## input / output の扱い
- input/ は入力専用ディレクトリとし、read-only として扱う
- input/ 配下のファイルは変更・整形・上書きを行わない
- output/ は生成物の置き場とする
- output/ の中身は原則として Git 管理対象外とする

---

## 不明点の扱い
- 判断に迷う場合は、勝手な解釈で進めてはならない
- 必ず質問を行い、指示を仰ぐこと

---

## Codex への依頼文について
- Codex への指示は必ず具体的に記述する
- 対象ファイル、変更範囲、変更禁止事項を明示する
- 既存の定型ブロックがある場合は、省略せずそのまま貼ること

以上はすべて実装指示であり、明示されていない変更は行ってはならない。
